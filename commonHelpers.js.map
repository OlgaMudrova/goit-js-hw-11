{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["// Створення галереї зображень\nexport function markupGallery(images) {\n  return images\n    .map(\n      i => ` <li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${i.largeImageURL}\">\n            <img\n              class=\"gallery-image\"\n              src=\"${i.webformatURL}\"\n              alt=\"${i.tags}\"\n              width=\"360\"\n              height=\"152\"\n          /></a>\n          <div class=\"parameters-block\">\n            <div class=\"parameter\">\n              <h2 class=\"title\">Likes</h2>\n              <p class=\"amount\">${i.likes}</p>\n            </div>\n            <div class=\"parameter\">\n              <h2 class=\"title\">Views</h2>\n              <p class=\"amount\">${i.views}</p>\n            </div>\n            <div class=\"parameter\">\n              <h2 class=\"title\">Comments</h2>\n              <p class=\"amount\">${i.comments}</p>\n            </div>\n            <div class=\"parameter\">\n              <h2 class=\"title\">Downloads</h2>\n              <p class=\"amount\">${i.downloads}</p>\n            </div>\n          </div>\n        </li>`\n    )\n    .join('');\n}","// Запит до Pixabay API\nexport function getPictures(query) {\n  const API_KEY = '42417927-02b658e2f5610bf7e034ab0b0';\n  const BASE_URL = 'https://pixabay.com/api/';\n\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 200,\n  });\n\n  return fetch(`${BASE_URL}?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}","// Додавання бібліотеки iziToast\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n// Додавання бібліотеки SimpleLightbox\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { markupGallery } from './js/render-functions.js';\nimport { getPictures } from './js/pixabay-api.js';\n\nconst list = document.querySelector('.gallery');\nconst fetcImageForm = document.querySelector('form');\nconst loader = document.querySelector('.loader');\n\n//Ініціалізація бібліотеки SimpleLightbox та налаштування опций модального вікна\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n});\n\nfetcImageForm.addEventListener('submit', fetchImage);\n\nfunction fetchImage(event) {\n  event.preventDefault();\n  list.innerHTML = '';\n\n  loader.classList.remove('is-hidden');\n\n  const searchQuery = event.target.elements.search.value.trim();\n\n  getPictures(searchQuery)\n    .then(response => {\n      if (!response.hits.length) {\n        //  Повідомлення про відсутність зображення відповідно запиту / Ініціаналізація бібліотеки iziToast\n        iziToast.error({\n          message: `Sorry, there are no images matching your search query. Please try again!`,\n          transitionIn: 'bounceInDown',\n          theme: 'dark',\n          messageColor: '#ffffff',\n          messageSize: 16,\n          messageLineHeight: 24,\n          color: '#ef4040',\n          progressBar: false,\n          position: 'topRight',\n          maxWidth: 432,\n        });\n      }\n      // Відображення галереї зображень відповідно запиту\n      const markup = markupGallery(response.hits);\n\n      list.insertAdjacentHTML('beforeend', markup);\n      lightbox.refresh();\n\n      event.target.reset();\n    })\n    .catch(error => {\n      //   Повідомлення про тип помилки\n      iziToast.error({\n        message: `${error}`,\n        transitionIn: 'bounceInDown',\n        theme: 'dark',\n        messageColor: '#ffffff',\n        messageSize: 16,\n        messageLineHeight: 24,\n        color: '#ef4040',\n        progressBar: false,\n        position: 'topRight',\n        maxWidth: 432,\n      });\n    })\n\n    .finally(() => {\n      loader.classList.add('is-hidden');\n    });\n}"],"names":["markupGallery","images","i","getPictures","query","API_KEY","BASE_URL","searchParams","response","list","fetcImageForm","loader","lightbox","SimpleLightbox","fetchImage","event","searchQuery","iziToast","markup","error"],"mappings":"6vBACO,SAASA,EAAcC,EAAQ,CACpC,OAAOA,EACJ,IACCC,GAAK;AAAA,0CAC+BA,EAAE;AAAA;AAAA;AAAA,qBAGvBA,EAAE;AAAA,qBACFA,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAOWA,EAAE;AAAA;AAAA;AAAA;AAAA,kCAIFA,EAAE;AAAA;AAAA;AAAA;AAAA,kCAIFA,EAAE;AAAA;AAAA;AAAA;AAAA,kCAIFA,EAAE;AAAA;AAAA;AAAA,cAI/B,EACA,KAAK,EAAE,CACZ,CCjCO,SAASC,EAAYC,EAAO,CACjC,MAAMC,EAAU,qCACVC,EAAW,2BAEXC,EAAe,IAAI,gBAAgB,CACvC,IAAKF,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,GACd,CAAG,EAED,OAAO,MAAM,GAAGE,KAAYC,GAAc,EAAE,KAAKC,GAAY,CAC3D,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCVA,MAAMC,EAAO,SAAS,cAAc,UAAU,EACxCC,EAAgB,SAAS,cAAc,MAAM,EAC7CC,EAAS,SAAS,cAAc,SAAS,EAGzCC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,gBAAiB,SACjB,aAAc,GAChB,CAAC,EAEDH,EAAc,iBAAiB,SAAUI,CAAU,EAEnD,SAASA,EAAWC,EAAO,CACzBA,EAAM,eAAc,EACpBN,EAAK,UAAY,GAEjBE,EAAO,UAAU,OAAO,WAAW,EAEnC,MAAMK,EAAcD,EAAM,OAAO,SAAS,OAAO,MAAM,OAEvDZ,EAAYa,CAAW,EACpB,KAAKR,GAAY,CACXA,EAAS,KAAK,QAEjBS,EAAS,MAAM,CACb,QAAS,2EACT,aAAc,eACd,MAAO,OACP,aAAc,UACd,YAAa,GACb,kBAAmB,GACnB,MAAO,UACP,YAAa,GACb,SAAU,WACV,SAAU,GACpB,CAAS,EAGH,MAAMC,EAASlB,EAAcQ,EAAS,IAAI,EAE1CC,EAAK,mBAAmB,YAAaS,CAAM,EAC3CN,EAAS,QAAO,EAEhBG,EAAM,OAAO,OACnB,CAAK,EACA,MAAMI,GAAS,CAEdF,EAAS,MAAM,CACb,QAAS,GAAGE,IACZ,aAAc,eACd,MAAO,OACP,aAAc,UACd,YAAa,GACb,kBAAmB,GACnB,MAAO,UACP,YAAa,GACb,SAAU,WACV,SAAU,GAClB,CAAO,CACP,CAAK,EAEA,QAAQ,IAAM,CACbR,EAAO,UAAU,IAAI,WAAW,CACtC,CAAK,CACL"}